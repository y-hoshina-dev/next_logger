# Next Logger E2E Test Checklist

最終更新: 2026-02-28
対象: `next_logger`

## 1. 環境準備
- [ ] Windows環境で `python app.py` が起動する
- [ ] 対象シリアル機器を接続できる
- [ ] 書込可能な保存先フォルダを用意する

## 2. 基本操作
- [ ] 初回起動時にセットアップウィザードが表示される（初回のみ）
- [ ] COMポート選択後に `開始` できる
- [ ] 受信データがライブログに表示される
- [ ] `一時停止` 中にログ追記が止まる
- [ ] `再開` で追記が再開する
- [ ] `停止` 後に状態が `IDLE` に戻る

## 3. 出力ファイル
- [ ] セッションフォルダが `YYYYMMDD_HHMMSS_*` で作成される
- [ ] `raw_part01.log` が作成される
- [ ] 選択形式の `data_part01.*` が作成される
- [ ] エラー行受信時に `error_part01.log` へ追記される
- [ ] `manifest.json` に settings/stats/segments が記録される

## 4. 再接続
- [ ] `自動再接続=ON` でケーブル抜去時に再接続メッセージが表示される
- [ ] 再接続成功時に受信が継続する
- [ ] 上限回数超過時にエラーメッセージが表示され停止する
- [ ] `自動再接続=OFF` で切断時に即停止する
- [ ] `reconnect mode=exponential` で待機秒数が段階的に増加する

## 5. 保持ポリシー
- [ ] `保持セッション数` を超えると古いセッションが削除される
- [ ] `保持日数` を超える古いセッションが削除される
- [ ] 実行中セッションは削除対象にならない
- [ ] 停止時ステータスに保持整理件数が表示される

## 6. プロファイル
- [ ] 接続設定/セッション設定を保存できる
- [ ] 保存したプロファイルを読込できる
- [ ] 読込後に画面値と保存パスプレビューが更新される
- [ ] 不要プロファイルを削除できる

## 7. 異常系
- [ ] 保存先未指定/不正設定でプリフライトが開始を拒否する
- [ ] ボーレートに不正値を入れると入力エラーが表示される
- [ ] アプリ強制終了後の再起動で復旧案内が表示される

## 8. リリース判定
- [ ] P0項目の不具合が0件
- [ ] E2Eチェックリストで必須項目が全て完了
- [ ] `python -m unittest discover -s tests -p "test_*.py" -v` が成功
- [ ] READMEの実行手順で第三者が起動できる
